# å˜ä¸€è²¬ä»»ã®åŸå‰‡ (Single Responsibility Principle)
## å˜ä¸€è²¬ä»»ã®åŸå‰‡ã¨ã¯

**ã‚¯ãƒ©ã‚¹ã¯ã€ŒãŸã£ãŸä¸€äººã®ã‚¢ã‚¯ã‚¿ãƒ¼ï¼ˆåˆ©ç”¨è€…ãƒ»è²¬ä»»è€…ï¼‰ã€ã«å¯¾ã—ã¦è²¬ä»»ã‚’æŒã¤ã¹ã**ã¨ã„ã†åŸå‰‡ã§ã™ã€‚

> [!CAUTION]  
> ã€Œå˜ä¸€ã®è²¬ä»»ã‚’æŒã¤ã¹ãã€ã¯ ç°¡ç•¥åŒ–ã•ã‚ŒãŸè¡¨ç¾ ã§ã€ã€ŒãŸã£ãŸä¸€äººã®ã‚¢ã‚¯ã‚¿ãƒ¼ï¼ˆåˆ©ç”¨è€…ãƒ»åˆ©å®³é–¢ä¿‚è€…ï¼‰ã«å¯¾ã—ã¦è²¬ä»»ã‚’æŒã¤ã¹ãã€ãŒ æœ¬è³ªçš„ãªæ„å‘³ã§ã™ã€‚ã€€ã€€
> æœ¬æ¥ã®æ„å›³ã¯ã€ã€Œ1ã¤ã®å¤‰æ›´ç†ç”±ï¼ˆ=1äººã®ã‚¢ã‚¯ã‚¿ãƒ¼ï¼‰ã«å¯¾ã—ã¦ã®ã¿è²¬ä»»ã‚’æŒã¤ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚

> [!NOTE]  
> å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆSingle Responsibility Principleï¼‰ã¯ã€ãƒ­ãƒãƒ¼ãƒˆãƒ»Cãƒ»ãƒãƒ¼ãƒ†ã‚£ãƒ³ï¼ˆUncle Bobï¼‰ã«ã‚ˆã£ã¦æå”±ã•ã‚ŒãŸæ¦‚å¿µã§ã™ãŒã€å®Ÿã¯ã„ãã¤ã‹ã®è¡¨ç¾æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
> ãƒãƒ¼ãƒ†ã‚£ãƒ³è‡ªèº«ã¯ã€Œã‚¯ãƒ©ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ç†ç”±ã¯1ã¤ã ã‘ã§ã‚ã‚‹ã¹ãã€ã¨ã„ã†å®šç¾©ã‚’ã—ã¦ãŠã‚Šã€ã“ã‚Œã‚’ã€Œ1ã¤ã®ã‚¢ã‚¯ã‚¿ãƒ¼ã€ã¨ã„ã†è¦³ç‚¹ã‹ã‚‰èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚ã‚¢ã‚¯ã‚¿ãƒ¼ã¨ã¯ã€å¤‰æ›´ã‚’è¦æ±‚ã™ã‚‹åˆ©å®³é–¢ä¿‚è€…ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰ã‚„å½¹å‰²ã‚’æŒ‡ã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€1ã¤ã®ã‚¯ãƒ©ã‚¹ã¯1äººã®ã‚¢ã‚¯ã‚¿ãƒ¼ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„é–¢ä¿‚è€…ï¼‰ã‹ã‚‰ã®å¤‰æ›´è¦æ±‚ã«ã®ã¿å¯¾å¿œã™ã¹ãã¨ã„ã†æ„å‘³ã§ã™ã€‚

## ãªãœã€Œã‚¢ã‚¯ã‚¿ãƒ¼ã€ã®è¦³ç‚¹ãŒé‡è¦ã‹ï¼Ÿ

Robert C. Martinï¼ˆæå”±è€…ï¼‰ã®åŸæ–‡ã§ã¯ã“ã†è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚

> â€œA class should have only one reason to change.â€
ï¼ˆã‚¯ãƒ©ã‚¹ã«ã¯å¤‰æ›´ç†ç”±ãŒã²ã¨ã¤ã ã‘ã§ã‚ã‚‹ã¹ãï¼‰

ã“ã“ã§ã®ã€Œç†ç”±ã€ã¨ã¯ ã‚¢ã‚¯ã‚¿ãƒ¼ï¼ˆè²¬ä»»ã‚’è¦æ±‚ã™ã‚‹äººã€ã¤ã¾ã‚Šå¤‰æ›´ç†ç”±ï¼‰ ã®ã“ã¨ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚

### ã‚¢ã‚¯ã‚¿ãƒ¼ã¨ã¯ï¼Ÿ

ã‚¢ã‚¯ã‚¿ãƒ¼ã¨ã¯ã€Œãã®ã‚¯ãƒ©ã‚¹ã®å¤‰æ›´ã‚’è¦æ±‚ã™ã‚‹ä¸»ä½“ã€ã®ã“ã¨ã§ã™ã€‚  
ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã ã‘ã§ãªãã€é–‹ç™ºãƒ»ä¿å®ˆã‚’è¡Œã†é‹ç”¨è€…ã‚„ç®¡ç†è€…ã€å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ä»•æ§˜ç­–å®šè€…ãªã©ã‚‚å«ã¾ã‚Œã¾ã™ã€‚

ãŸã¨ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚¢ã‚¯ã‚¿ãƒ¼ã¨ãªã‚Šå¾—ã¾ã™ã€‚

- çµŒå–¶å±¤ï¼ˆå£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆã®å½¢å¼å¤‰æ›´ã‚’è¦æ±‚ï¼‰
- DBAï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜ä»•æ§˜ã®å¤‰æ›´ã‚’è¦æ±‚ï¼‰
- ã‚¤ãƒ³ãƒ•ãƒ©é‹ç”¨æ‹…å½“ï¼ˆãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚µãƒ¼ãƒã®å¤‰æ›´ã‚’è¦æ±‚ï¼‰
- ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆUIã‚„å‡ºåŠ›å†…å®¹ã®å¤‰æ›´ã‚’å¸Œæœ›ï¼‰

ã‚¯ãƒ©ã‚¹ãŒè¤‡æ•°ã®ã‚¢ã‚¯ã‚¿ãƒ¼ã«å¯¾å¿œã—ã¦ã„ã‚‹ã¨ã€ãã‚Œãã‚Œã®ã‚¢ã‚¯ã‚¿ãƒ¼ã«ã‚ˆã‚‹å¤‰æ›´è¦æ±‚ãŒäº’ã„ã«å¹²æ¸‰ã—ã€ä¿å®ˆæ€§ãŒä¸‹ãŒã‚Šã¾ã™ã€‚  
ã“ã®ãŸã‚ã€Œ1ã‚¯ãƒ©ã‚¹ï¼1ã‚¢ã‚¯ã‚¿ãƒ¼ã¸ã®è²¬ä»»ã€ã¨ã™ã‚‹ã®ãŒå˜ä¸€è²¬ä»»ã®åŸå‰‡ã®æœ¬è³ªã§ã™ã€‚

> ğŸ’¡ ã‚¢ã‚¯ã‚¿ãƒ¼ã¨ã¯ã€ãã®ã‚¯ãƒ©ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã€Œäººãƒ»ã‚·ã‚¹ãƒ†ãƒ ãƒ»ä»–ã®ã‚¯ãƒ©ã‚¹ã€ãªã©ã€  
> ã‚¯ãƒ©ã‚¹ã®æŒ¯ã‚‹èˆã„ã‚„æ§‹é€ ã«å¯¾ã—ã¦**å¤‰æ›´ã‚’è¦æ±‚ã—å¾—ã‚‹ä¸»ä½“**ã‚’æŒ‡ã—ã¾ã™ã€‚  
> ã¤ã¾ã‚Šã€Œãã®ã‚¯ãƒ©ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹è€…ï¼ˆäººãƒ»ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ä»–ã®ã‚·ã‚¹ãƒ†ãƒ ï¼‰ã€ã¨è¨€ã„æ›ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

### ãŸã¨ãˆã°

```
class ReportManager {
  generateReport()  // çµŒå–¶å±¤ãŒæ±‚ã‚ã‚‹æ©Ÿèƒ½
  saveToDatabase()  // DBAãŒé–¢å¿ƒã‚’æŒã¤å‡¦ç†
  sendEmail()       // é€šä¿¡ã‚¤ãƒ³ãƒ•ãƒ©æ‹…å½“ãŒé–¢ã‚ã‚‹éƒ¨åˆ†
}
```
ã“ã‚Œã¯ã€Œ1ã‚¯ãƒ©ã‚¹ãŒ3ã¤ã®ã‚¢ã‚¯ã‚¿ãƒ¼ã«è²¬ä»»ã‚’æŒã£ã¦ã„ã‚‹ã€ã®ã§ SRPé•å ã§ã™ã€‚  
å„æ©Ÿèƒ½ã‚’åˆ¥ã‚¯ãƒ©ã‚¹ã«åˆ†é›¢ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„è¨­è¨ˆã§ã™ã€‚



## å˜ä¸€è²¬ä»»ã«é•åã—ã¦ã„ã‚‹ä¾‹

ä»¥ä¸‹ã¯ã€ãƒ¬ãƒãƒ¼ãƒˆã‚’å°åˆ·ãƒ»ä¿å­˜ãƒ»é€ä¿¡ã™ã‚‹å‡¦ç†ã‚’1ã¤ã®ã‚¯ãƒ©ã‚¹ã«è©°ã‚è¾¼ã‚“ã ä¾‹ã§ã™ã€‚

```ts
class ReportManager {
  constructor(private title: string, private content: string) {}

  print() {
    console.log(`å°åˆ·: ${this.title}\n${this.content}`);
  }

  saveToFile() {
    console.log(`ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜: ${this.title}.txt`);
  }

  sendEmail() {
    console.log(`ãƒ¡ãƒ¼ãƒ«é€ä¿¡: ${this.title}`);
  }
}
```

### å•é¡Œç‚¹

- `print()` â†’ ãƒ—ãƒªãƒ³ã‚¿æ‹…å½“è€…ã®è²¬ä»»
- `saveToFile()` â†’ ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†è€…ã®è²¬ä»»
- `sendEmail()` â†’ é€šä¿¡ãƒ»ãƒ¡ãƒ¼ãƒ«æ‹…å½“ã®è²¬ä»»

ã‚¢ã‚¯ã‚¿ãƒ¼ãŒç•°ãªã‚‹å‡¦ç†ãŒ1ã¤ã®ã‚¯ãƒ©ã‚¹ã«æ··åœ¨ã—ã¦ãŠã‚Šã€å˜ä¸€è²¬ä»»ã®åŸå‰‡ã«é•åã—ã¦ã„ã¾ã™ã€‚


## åŸå‰‡ã«é•åã™ã‚‹ã¨ã©ã†ãªã‚‹ã‹

- ä¸€éƒ¨ã®ä¿®æ­£ï¼ˆä¾‹: ãƒ¡ãƒ¼ãƒ«é€ä¿¡ä»•æ§˜å¤‰æ›´ï¼‰ãŒä»–ã®å‡¦ç†ï¼ˆå°åˆ·ã‚„ä¿å­˜ï¼‰ã«ã‚‚å½±éŸ¿ã™ã‚‹
- ã©ã®è²¬ä»»ã«å½±éŸ¿ãŒã‚ã‚‹ã‹ã‚’ç‰¹å®šã™ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹
- ãƒ†ã‚¹ãƒˆå¯¾è±¡ãŒå¤šãã€ä¿®æ­£ã®ãƒªã‚¹ã‚¯ãŒé«˜ããªã‚‹

```ts
// ãƒ¡ãƒ¼ãƒ«é€ä¿¡ä»•æ§˜ã‚’å¤‰æ›´ã—ãŸã„ãŒã€ä»–ã®å‡¦ç†ã‚‚å·»ãè¾¼ã‚“ã§ã—ã¾ã†ä¾‹
class ReportManager {
  constructor(private title: string, private content: string) {}

  print() {
    console.log(`å°åˆ·: ${this.title}\n${this.content}`);
  }

  saveToFile() {
    console.log(`ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜: ${this.title}.txt`);
  }

  sendEmail() {
    // ãƒ¡ãƒ¼ãƒ«ä»•æ§˜å¤‰æ›´ï¼šå®›å…ˆã‚„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ã‚’è¡Œã„ãŸã„
    const recipient = 'admin@example.com';
    const message = `ä»¶å: ${this.title}\næœ¬æ–‡: ${this.content}`;
    console.log(`æ–°ãƒ¡ãƒ¼ãƒ«ä»•æ§˜ã§é€ä¿¡: To=${recipient}\n${message}`);
  }
}

// â†’ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã®ä»•æ§˜ã‚’å¤‰æ›´ã™ã‚‹ã ã‘ãªã®ã«ã€
//    ReportManager ãã®ã‚‚ã®ã‚’å¤‰æ›´ã—ã¦ã—ã¾ã†ã€‚
//    ãã®çµæœã€å°åˆ·å‡¦ç†ã‚„ä¿å­˜å‡¦ç†ã®ãƒ†ã‚¹ãƒˆãƒ»æŒ™å‹•ã«ã‚‚å½±éŸ¿ãŒå‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
```

## è§£æ±ºç­–ï¼šè²¬ä»»ã‚’åˆ†é›¢ã™ã‚‹

```ts
class Report {
  constructor(public title: string, public content: string) {}
}

class Printer {
  print(report: Report) {
    console.log(`å°åˆ·: ${report.title}\n${report.content}`);
  }
}

class FileSaver {
  save(report: Report) {
    console.log(`ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜: ${report.title}.txt`);
  }
}

class EmailSender {
  send(report: Report) {
    console.log(`ãƒ¡ãƒ¼ãƒ«é€ä¿¡: ${report.title}`);
  }
}
```

### å®Ÿè¡Œä¾‹

```ts
const report = new Report('å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆ', 'å£²ä¸Šã¯å‰å¹´æ¯”120%ã§ã—ãŸã€‚');
const printer = new Printer();
const saver = new FileSaver();
const sender = new EmailSender();

printer.print(report);
saver.save(report);
sender.send(report);
```


## è£œè¶³ï¼šDRYåŸå‰‡ã¨ã®é–¢ä¿‚

DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åŸå‰‡ã¯ã€ŒåŒã˜ã‚³ãƒ¼ãƒ‰ã‚„ãƒ­ã‚¸ãƒƒã‚¯ã‚’ç¹°ã‚Šè¿”ã•ãªã„ã€ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ãŒã€  
**å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆSRPï¼‰ã¨æ··åŒã™ã‚‹ã¨ã€è¨­è¨ˆãŒè¤‡é›‘ã«ãªã‚‹å±é™ºãŒã‚ã‚Šã¾ã™ã€‚**

### âŒ ã‚ˆãã‚ã‚‹èª¤è§£

ã€ŒåŒã˜å‡¦ç†ã‚’ã—ã¦ã„ã‚‹ã‹ã‚‰ã€ã¨ã„ã£ã¦ã€**ç•°ãªã‚‹è²¬ä»»ã‚’æŒã¤å‡¦ç†ã‚’1ã¤ã®é–¢æ•°ã‚„ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã‚‹**ã®ã¯å±é™ºã§ã™ã€‚

```ts
class ReportManager {
  print(report: Report) {
    this.log('å°åˆ·');
    console.log(`å°åˆ·: ${report.title}`);
  }

  save(report: Report) {
    this.log('ä¿å­˜');
    console.log(`ä¿å­˜: ${report.title}.txt`);
  }

  send(report: Report) {
    this.log('é€ä¿¡');
    console.log(`é€ä¿¡: ${report.title}`);
  }

  private log(action: string) {
    // ãƒ­ã‚°å‡ºåŠ›ã‚’å…±é€šåŒ–ã—ãŸã¤ã‚‚ã‚ŠãŒâ€¦
    console.log(`[LOG]: ${action}`);
  }
}
```

ã“ã®ã‚ˆã†ã«ãƒ­ã‚°å‡ºåŠ›ã‚’DRYã®è¦³ç‚¹ã‹ã‚‰å…±é€šåŒ–ã™ã‚‹ã¨ã€ä¸€è¦‹ã‚ˆã•ãã†ã«è¦‹ãˆã¾ã™ãŒã€  
ãƒ­ã‚°å‡ºåŠ›ã®è²¬ä»»ãŒå°åˆ·ãƒ»ä¿å­˜ãƒ»é€ä¿¡ãã‚Œãã‚Œã®æ©Ÿèƒ½ã«å¯†çµåˆã—ã¦ã—ã¾ã£ã¦ã„ã¾ã™ã€‚


### âœ… æ­£ã—ã„æ§‹æˆä¾‹ï¼šè²¬ä»»ã®åˆ†é›¢

```ts
class Report {
  constructor(public title: string) {}
}

// ãƒ­ã‚°æ©Ÿèƒ½ã‚’å°‚ç”¨ã‚¯ãƒ©ã‚¹ã¨ã—ã¦åˆ†é›¢
class Logger {
  log(action: string) {
    console.log(`[LOG]: ${action}`);
  }
}

class Printer {
  constructor(private logger: Logger) {}

  print(report: Report) {
    this.logger.log('å°åˆ·');
    console.log(`å°åˆ·: ${report.title}`);
  }
}

class FileSaver {
  constructor(private logger: Logger) {}

  save(report: Report) {
    this.logger.log('ä¿å­˜');
    console.log(`ä¿å­˜: ${report.title}.txt`);
  }
}

class EmailSender {
  constructor(private logger: Logger) {}

  send(report: Report) {
    this.logger.log('é€ä¿¡');
    console.log(`é€ä¿¡: ${report.title}`);
  }
}
```

#### å®Ÿè¡Œä¾‹

```ts
const report = new Report('æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆ');
const logger = new Logger();

const printer = new Printer(logger);
const saver = new FileSaver(logger);
const sender = new EmailSender(logger);

printer.print(report);
saver.save(report);
sender.send(report);
```

ã“ã®ã‚ˆã†ã«ã€Œãƒ­ã‚°å‡ºåŠ›ã®è²¬ä»»ã€ã‚’ `Logger` ã‚¯ãƒ©ã‚¹ã«åˆ†é›¢ã—ã€ä»–ã®ã‚¯ãƒ©ã‚¹ã¯è‡ªèº«ã®æœ¬æ¥ã®è²¬ä»»ï¼ˆå°åˆ·ãƒ»ä¿å­˜ãƒ»é€ä¿¡ï¼‰ã«é›†ä¸­ã™ã‚‹ã“ã¨ã§ã€  
**SRPã«æº–æ‹ ã—ã¤ã¤ã€DRYã‚‚ä¿ãŸã‚Œã‚‹**è¨­è¨ˆã«ãªã‚Šã¾ã™ã€‚

### ğŸ“ ã¾ã¨ã‚

- DRYã¨SRPã¯ã©ã¡ã‚‰ã‚‚é‡è¦ã§ã™ãŒã€**å„ªå…ˆã™ã¹ãã¯SRPï¼ˆè²¬ä»»ã®åˆ†é›¢ï¼‰**ã§ã™
- ã¾ãšã€Œãã®å‡¦ç†ã¯èª°ã®è²¬ä»»ã‹ï¼Ÿã€ã‚’æ˜ç¢ºã«ã—ã¾ã—ã‚‡ã†
